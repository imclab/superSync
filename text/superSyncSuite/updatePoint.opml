on updatePoint (adrpoint) {	//Changes		//12/14/13; 9:38:12 AM by DW			//Fixed a bug where we'd go to the summit of the outline even if we logged nothing. Would make the OPML Editor basically unusuable. Sorry about that! ;-(		//11/24/13; 8:15:49 PM by DW			//Created.	local (adrdata = superSyncSuite.init ());	superSyncSuite.initPoint (nameof (adrpoint^));	if adrpoint^.prefs.enabled {		local (floutlinesetup = false);		on setupoutline () {			if not floutlinesetup {				if not defined (adroutline^) {					new (outlinetype, adroutline);					target.set (adroutline);					window.setsize (adroutline, 500, 300);					op.setlinetext (clock.now ());					edit (adroutline)}				else {					if not window.isopen (adroutline) {						edit (adroutline)};					target.set (adroutline);					op.fullcollapse ();					op.firstsummit ();					op.insert (clock.now (), up)};				floutlinesetup = true}};		local (folder = adrpoint^.prefs.folder, s3folderpath = adrpoint^.prefs.s3path);		local (adroutline = @adrpoint^.stats.log, dir = right);		fileloop (f in folder, infinity) {			if f endswith ".html" {				local (filepath = string.delete (f, 1, sizeof (folder)), filetext);				local (adrfile = @adrpoint^.stats.files.[filepath]);				if not defined (adrfile^) {					new (tabletype, adrfile);					adrfile^.ctlooks = 0;					adrfile^.ctwrites = 0;					adrfile^.whenLastWrite = date (0);					adrfile^.ctConsecutiveErrors = 0;					adrfile^.ctErrors = 0};				if file.modified (f) > adrfile^.whenLastWrite {					filepath = s3folderpath + string.replaceall (filepath, file.getpathchar (), "/");					filetext = string (file.readwholefile (f));					if sizeof (filetext) == 0 {						filetext = " "};					try {						s3.newobject (filepath, filetext);						if adrdata^.prefs.flLogEnabled {							setupoutline ();							op.insert (filepath, dir); dir = down};						new (tabletype, @atts);						atts.type = "link";						atts.url = "http:/" + filepath;						op.attributes.addgroup (@atts);						adrpoint^.stats.ctUploads++;						adrpoint^.stats.whenLastUpload = clock.now ();						adrfile^.ctwrites++;						adrfile^.whenLastWrite = clock.now ();						adrfile^.ctConsecutiveErrors = 0}					else {						adrfile^.ctErrors++;						adrfile^.ctConsecutiveErrors++;						adrfile^.whenLastError = clock.now ();						adrfile^.lasterror = tryerror;						adrpoint^.stats.lastError = tryerror}};				adrfile^.ctlooks++}};		if floutlinesetup {			op.firstsummit ()}}};bundle { //test code	updatePoint (@config.superSync.points.fargoDocs)}